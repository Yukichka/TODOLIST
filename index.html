<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <meta charset="UTF-8">

</head>
<body>

  <h1>TO DO LIST</h1>
    <ul class='message'>
        <li id='m1'>
            <p>message1</p>
            <button onclick="changeMessage('m1')">CHANGE</button>
          <button onclick="removeMessage('m1')">REMOVE</button>
        </li>
        <li id='m2'>
            <p>message2</p>
            <button onclick="changeMessage('m2')">CHANGE</button>
          <button onclick="removeMessage('m2')">REMOVE</button>
        </li>
        <li id='m3'>
            <p>message3</p>
            <button onclick="changeMessage('m3')">CHANGE</button>
          <button onclick="removeMessage('m3')">REMOVE</button>
        </li>
        <li id='m4'>
            <p>message4</p>
            <button onclick="changeMessage('m4')">CHANGE</button>
          <button onclick="removeMessage('m4')">REMOVE</button>
        </li>    
    </ul>
     <input type="text" id="message"/>
     <select name='urgence' id='urgence'>
     <option value="urgent">URGENT</option>
     <option value="later">LATER</option>
     </select>
     <button onclick="addMessage()">ADD</button>
     

     <script type="text/javascript">
      var n = 4

      $(document).keypress(function (e) {
        if (e.which == 13) {
            addMessage();
        }
    });

        
        

        var options = { 
            weekday: "long", year: "numeric", month: "short", day: "numeric" }; 
        
      function addMessage() {
      var text = $('input').val(); 
            var selectedOption = $('#urgence option:selected').text();
      $('input').val('');
          n ++
          if (text.length===0)
            return alert('Ooops! Please type somthing!');
        $('ul').append(
                  '<li id="m'+n+'"><p><span class="context">'+text
                 +'</span><b> '+selectedOption+'</b></p>'
                 +'<span>' 
                 + new Date().toLocaleDateString("en-GB",options)
                 +' '
                 + new Date().toLocaleTimeString("en-GB")
                 +' '
                 +'</span>'
                 +'<button onclick="changeMessage(\'m'+n+'\')">CHANGE</button>'
                 +'<button onclick="removeMessage(\'m'+n+'\')">REMOVE</button>' 
                 +'</li>');

    };  

    function removeMessage(id){
      $('li#'+id).remove();
    };

       

        

        function changeMessage(id){ 
             var currentValue = $('li#'+id+' .context').text();
             var newValue = prompt('How would you like to change?', currentValue);

             if (newValue.length ===0) 
                 return alert('Ooops! Please type somthing!');
             $('li#'+id+' .context').text(newValue);
        };
          
     </script>
     <p>&copy; 2018 YUKI INASAWA<p>
</body>